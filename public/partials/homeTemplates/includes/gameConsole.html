<div ng-controller="ngGameController">
    <div class="gameState">
        <div class="gameStatus">{{currentGame._gameState.gameStatus === 1 ? "Game in progress" : "TODO"}}</div>
        <div class="nextTurn">{{currentGame._gameState._nextPlayer.nickname}}'s turn</div>
    </div>
    <div class="placedCards">
        <ul class="placedCardsBundle">
            <li class="playedCard">
                <span class="waitingCard" ng-show="{{playedCard1 == undefined}}">Waiting</span>
                <img 
                    ng-show="{{playedCard1 != undefined}}"
                    class="cardPic smallCardPic" 
                    src="images/guns/{{playedCard1 != undefined ? playedCard1._card.file : ''}}" 
                    alt="{{playedCard1 != undefined ? playedCard1._card.name : ''}}"
                />

            </li>
            <li class="versus">
                VS
            </li>
            <li class="playedCard">
                <span class="waitingCard" ng-show="{{playedCard2 == undefined}}">Waiting</span>
                <img 
                    ng-show="{{playedCard2 != undefined}}"
                    class="cardPic smallCardPic" 
                    src="images/guns/{{playedCard2 != undefined ? playedCard2._card.file : ''}}" 
                    alt="{{playedCard2 != undefined ? playedCard2._card.name : ''}}"
                />
            </li>
        </ul>
    </div>
    <div class="playersCards">
        <ul class="playersCardsBundle">
            <li class="card" ng-repeat="card in cards" data-card="{{card._id}}" ng-click="selectCard($event, card._id)">
                <img class="cardPic {{selectedCardId == card._id ? 'hide' : ''}}" src="images/guns/{{card.file}}" alt="{{card.name}}"/>
                <ul class="cardInfo {{selectedCardId == card._id ? '' : 'hide'}}">
                    <li>{{card.name}} ({{card.country}})</li>
                    <li>
                        {{currentGame._gameSettings.cricketFormat.toUpperCase()}}s Played: 
                        {{card[currentGame._gameSettings.cricketFormat+"s_played"]}}
                    </li>
                    <li>Runs: {{card[currentGame._gameSettings.cricketFormat+"_runs"]}}</li>
                    <li>Avg: {{card[currentGame._gameSettings.cricketFormat+"_runs_avg"]}}</li>
                    <li>100s: {{card[currentGame._gameSettings.cricketFormat+"_100s"]}}</li>
                    <li>50s: {{card[currentGame._gameSettings.cricketFormat+"_50s"]}}</li>
                    <li>Wickets: {{card[currentGame._gameSettings.cricketFormat+"_wickets"]}}</li>
                    <li>10 Wickets: {{card[currentGame._gameSettings.cricketFormat+"_10ws"]}}</li>
                    <li>5 Wickets: {{card[currentGame._gameSettings.cricketFormat+"_5ws"]}}</li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="controls">
        <button class="btn btn-lg {{(selectedCardId == undefined || currentPlayer._id != nextPlayer._id ) ? '' : 'btn-primary'}}" ng-click="initCardAttributes()">Play Card</button>
    </div>
</div>